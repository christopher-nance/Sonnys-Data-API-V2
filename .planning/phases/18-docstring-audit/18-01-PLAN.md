---
phase: 18-docstring-audit
plan: 01
type: execute
---

<objective>
Add docstrings to all exception classes and the SonnysModel base, and enrich resource class docstrings with complete API documentation.

Purpose: Exception classes and resource classes are rendered in the API reference docs via mkdocstrings. Currently exceptions show no descriptions and resource classes show only one-liners. This plan fills those gaps.
Output: Complete docstrings on all 10 exception classes, SonnysModel base, all type module files, and enriched resource class docstrings.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Key files from prior phases:
@src/sonnys_data_client/_exceptions.py
@src/sonnys_data_client/types/_base.py
@src/sonnys_data_client/types/__init__.py
@src/sonnys_data_client/resources/_customers.py
@src/sonnys_data_client/resources/_employees.py
@src/sonnys_data_client/resources/_giftcards.py
@src/sonnys_data_client/resources/_items.py
@src/sonnys_data_client/resources/_sites.py
@src/sonnys_data_client/resources/_washbooks.py
@src/sonnys_data_client/resources/_recurring.py
@src/sonnys_data_client/resources/_transactions.py
@docs/api/exceptions.md
@docs/api/resources.md

**Tech stack available:** mkdocs-material, mkdocstrings[python]
**Established patterns:** Google docstring style (configured in mkdocs.yml), merge_init_into_class
**Constraining decisions:**
- Phase 12: Google docstring style with merge_init_into_class for clean class docs
- Phase 12: show_source: false and heading_level: 2 for clean autodoc rendering
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add docstrings to exception classes, SonnysModel, and type module files</name>
  <files>src/sonnys_data_client/_exceptions.py, src/sonnys_data_client/types/_base.py, src/sonnys_data_client/types/__init__.py, src/sonnys_data_client/types/_customers.py, src/sonnys_data_client/types/_employees.py, src/sonnys_data_client/types/_giftcards.py, src/sonnys_data_client/types/_items.py, src/sonnys_data_client/types/_sites.py, src/sonnys_data_client/types/_washbooks.py, src/sonnys_data_client/types/_recurring.py, src/sonnys_data_client/types/_transactions.py</files>
  <action>
Add Google-style docstrings to each class and module:

**Exception classes (_exceptions.py):**
- `SonnysError`: "Base exception for all Sonny's Data Client errors."
- `APIError`: "An error returned by the API. Attributes: message (str)."
- `APIConnectionError`: "Failed to connect to the Sonny's Data API."
- `APITimeoutError`: "Request to the Sonny's Data API timed out."
- `APIStatusError`: "API returned an error HTTP status. Attributes: status_code (int), body (dict | None), error_type (str | None)." — Use Google-style Attributes section.
- `AuthError`: "Authentication or authorization failed (HTTP 403). Raised for invalid/missing API credentials or unauthorized site access."
- `RateLimitError`: "Rate limit exceeded (HTTP 429). The client auto-retries with backoff, so this is only raised after retries are exhausted."
- `ValidationError`: "Request validation failed (HTTP 400/422). Check error_type and body for details on invalid parameters."
- `NotFoundError`: "Requested resource not found (HTTP 404)."
- `ServerError`: "Sonny's API server error (HTTP 500+)."

**SonnysModel (_base.py):**
- Add module docstring: `"""Base model for all Sonny's Data Client response types."""`
- Add class docstring: "Base Pydantic model for all API response types. Configures camelCase alias generation so API responses (camelCase) map to Pythonic snake_case attributes."

**Type module files** — Add module-level docstrings to each file that lacks one:
- `types/__init__.py`: `"""Public Pydantic models for Sonny's Data API responses."""`
- `types/_customers.py`: `"""Customer response models."""`
- `types/_employees.py`: `"""Employee response models."""`
- `types/_giftcards.py`: `"""Giftcard response models."""`
- `types/_items.py`: `"""Item response models."""`
- `types/_sites.py`: `"""Site response models."""`
- `types/_washbooks.py`: `"""Washbook response models."""`
- `types/_recurring.py`: `"""Recurring account response models."""`
- `types/_transactions.py`: `"""Transaction response models."""`

Do NOT add docstrings to Pydantic model classes yet (that's Plan 2 and 3). Only module-level docstrings for type files.
  </action>
  <verify>python -c "from sonnys_data_client._exceptions import SonnysError, AuthError, APIStatusError; print(SonnysError.__doc__); print(AuthError.__doc__); print(APIStatusError.__doc__)"</verify>
  <done>All 10 exception classes have docstrings. SonnysModel has docstring. All 9 type module files have module docstrings. Existing docstrings on functions (parse_error_body, make_status_error) unchanged.</done>
</task>

<task type="auto">
  <name>Task 2: Enrich resource class docstrings</name>
  <files>src/sonnys_data_client/resources/_customers.py, src/sonnys_data_client/resources/_employees.py, src/sonnys_data_client/resources/_giftcards.py, src/sonnys_data_client/resources/_items.py, src/sonnys_data_client/resources/_sites.py, src/sonnys_data_client/resources/_washbooks.py, src/sonnys_data_client/resources/_recurring.py, src/sonnys_data_client/resources/_transactions.py</files>
  <action>
Enrich the one-liner docstrings on all 8 resource classes with a multi-line description that documents:
1. What the resource provides (endpoints covered)
2. Inherited methods from base classes (list, get) with brief parameter notes
3. Any custom methods unique to the resource

Use Google docstring style. Keep descriptions concise (3-8 lines) — these render in the API reference.

Specific enrichments:

- **Customers**: Mention list() returns CustomerListItem, get(id) returns Customer with full profile including address. Supports startDate/endDate/site/region filters.
- **Items**: Mention list() returns Item with SKU, name, department, pricing. List-only (no detail endpoint). Supports site filter.
- **Employees**: Mention list() returns EmployeeListItem, get(id) returns Employee. Note the custom get_clock_entries() method for time tracking. Supports startDate/endDate filters.
- **Sites**: Mention list() returns Site. Non-paginated (returns all sites in one call). No detail endpoint.
- **Giftcards**: Mention list() returns GiftcardListItem with balance info. List-only. Note the API path has a typo ("giftcard-liablilty") which is intentional to match the actual API.
- **Washbooks**: Mention list() returns WashbookListItem, get(id) returns Washbook with customer, vehicle, and tag details. Supports date/site filters.
- **RecurringAccounts**: Mention list(), get(id), plus custom methods list_status_changes(), list_modifications(), list_details(). Most feature-rich resource.
- **Transactions**: Mention list(), get(id), plus custom methods list_by_type(), list_v2(), load_job(). Most complex resource with batch job support.

Do NOT modify any existing method docstrings — only enrich the class-level docstrings. Existing method docstrings (get_clock_entries, list_by_type, list_v2, load_job, etc.) are already good.
  </action>
  <verify>python -c "from sonnys_data_client.resources._transactions import Transactions; print(Transactions.__doc__)"</verify>
  <done>All 8 resource classes have multi-line docstrings documenting endpoints, inherited methods, and custom methods. No existing method docstrings were modified.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `python -c "import sonnys_data_client"` succeeds
- [ ] All 10 exception classes have docstrings (verify with `__doc__`)
- [ ] SonnysModel has a class docstring
- [ ] All type module files have module docstrings
- [ ] All 8 resource classes have enriched multi-line docstrings
- [ ] No existing docstrings were broken or removed
</verification>

<success_criteria>

- All exception classes documented with Google-style docstrings
- SonnysModel base class documented
- All type module files have module-level docstrings
- All resource classes have enriched multi-line docstrings
- Import succeeds without errors
</success_criteria>

<output>
After completion, create `.planning/phases/18-docstring-audit/18-01-SUMMARY.md`
</output>
