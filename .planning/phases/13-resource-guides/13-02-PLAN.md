---
phase: 13-resource-guides
plan: 02
type: execute
---

<objective>
Write usage guides for the 4 account and transaction resources (Giftcards, Washbooks, Recurring Accounts, Transactions) and verify the complete docs build.

Purpose: Complete the per-resource guide coverage. These are standard-depth guides — Phases 14 (Transaction Deep Dive) and 15 (Account Resources Guide) will add advanced patterns and detailed workflows.
Output: 4 guide markdown pages completing docs/guides/ and verified mkdocs build.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/13-resource-guides/13-01-SUMMARY.md

# Key source files for guide content:
@src/sonnys_data_client/resources/_giftcards.py
@src/sonnys_data_client/resources/_washbooks.py
@src/sonnys_data_client/resources/_recurring.py
@src/sonnys_data_client/resources/_transactions.py
@src/sonnys_data_client/types/_giftcards.py
@src/sonnys_data_client/types/_washbooks.py
@src/sonnys_data_client/types/_recurring.py
@src/sonnys_data_client/types/_transactions.py

# Guide structure established in Plan 01:
@docs/guides/customers.md
@docs/guides/items.md
@mkdocs.yml

**Tech stack available:** mkdocs-material, mkdocstrings[python]
**Established patterns:** Guide page structure (H1 title, overview, H2 Methods, H2 Examples, H2 Models), admonition blocks for notes/tips
**Constraining decisions:**
- [Phase 13 Plan 01]: Guide structure and formatting conventions
</context>

<tasks>

<task type="auto">
  <name>Task 1: Write Giftcards and Washbooks guides</name>
  <files>docs/guides/giftcards.md, docs/guides/washbooks.md</files>
  <action>
1. Create docs/guides/giftcards.md:
   - Title: "Giftcards"
   - Overview: gift card liability records with balances and usage tracking
   - Methods section with `list(**params)` — list-only resource, no get()
   - Code examples: list all giftcards, access giftcard_id/number/value/amount_used/site_code fields, calculate remaining balance (value - amount_used)
   - Return model: GiftcardListItem (site_code, complete_date, number, value, amount_used, giftcard_id)
   - Note about auto-pagination
   - Tip: mention Phases 15 will cover advanced account resource patterns

2. Create docs/guides/washbooks.md:
   - Title: "Washbooks"
   - Overview: prepaid wash book accounts with customer, tag, and vehicle associations
   - Methods section with `list(**params)` and `get(account_id)` — detail endpoint is the key feature
   - Code examples: list washbooks, get washbook detail showing customer info, iterate tags (id, number, enabled), iterate vehicles (id, plate), access recurring_info (current_billable_amount, next_bill_date, is_on_trial)
   - Return models: WashbookListItem (id, name, balance, sign_up_date, cancel_date, billing_site_id, customer_id, status) and Washbook (full detail with customer: WashbookCustomer, recurring_info: WashbookRecurringInfo, tags: list[WashbookTag], vehicles: list[WashbookVehicle])
   - Note about nested model relationships (Washbook contains WashbookCustomer, WashbookRecurringInfo, WashbookTag, WashbookVehicle)

Follow the guide structure from Plan 01.
  </action>
  <verify>Both files exist and follow the established guide structure</verify>
  <done>docs/guides/giftcards.md and docs/guides/washbooks.md exist with methods, examples, and model descriptions</done>
</task>

<task type="auto">
  <name>Task 2: Write Recurring and Transactions guides and verify full docs build</name>
  <files>docs/guides/recurring.md, docs/guides/transactions.md</files>
  <action>
1. Create docs/guides/recurring.md:
   - Title: "Recurring Accounts"
   - Overview: recurring/membership car wash accounts with billing, status tracking, and modification history
   - Methods section with 5 methods: `list(**params)`, `get(account_id)`, `list_status_changes(**params)`, `list_modifications(**params)`, `list_details(**params)` — this is the richest standard resource
   - Code examples: list recurring accounts (RecurringListItem with status/status_name), get detail (Recurring with is_on_trial, billing_amount, next_bill_date, plan_name, tags, vehicles, customer, recurring_statuses, recurring_billings), list_status_changes showing old_status/new_status/status_date, list_modifications showing modification entries, list_details vs list (full Recurring objects vs RecurringListItem summaries)
   - Return models: RecurringListItem, Recurring (with nested RecurringStatus, RecurringBilling, WashbookCustomer, WashbookTag, WashbookVehicle), RecurringStatusChange, RecurringModification (extends Recurring with modifications list)
   - Note: list_details returns full Recurring objects (same as get) but for all accounts — heavier API call than list
   - Tip: mention Phase 15 will cover advanced account resource patterns

2. Create docs/guides/transactions.md:
   - Title: "Transactions"
   - Overview: transaction records covering all wash types — the most feature-rich resource with 5 methods including batch job support
   - Methods section with 5 methods: `list(**params)`, `get(trans_id)`, `list_by_type(item_type, **params)`, `list_v2(**params)`, `load_job(*, poll_interval=2.0, timeout=300.0, **params)`
   - Code examples:
     - list transactions with startDate/endDate params
     - get transaction detail showing tenders, items, discounts, employee info
     - list_by_type with valid types: wash, prepaid-wash, recurring, washbook, giftcard, merchandise, house-account
     - list_v2 showing enriched fields (customer_id, is_recurring_plan_sale, is_recurring_plan_redemption, transaction_status)
     - load_job batch export with startDate/endDate, mention 24-hour date range limit and 20-minute cache
   - Return models: TransactionListItem (trans_number, trans_id, total, date), TransactionV2ListItem (extends with customer_id, recurring flags, status), Transaction (full detail with tenders, items, discounts), TransactionJobItem (extends Transaction with v2 fields)
   - Notes: list_v2 results are cached 10 minutes by API; load_job data cached 20 minutes, max 24-hour date range; load_job auto-paginates at job submission level
   - Tip: mention Phase 14 will deep-dive into transaction patterns and batch job workflows

3. Run `mkdocs build --strict` to verify ALL 8 guide pages build without errors. Fix any issues.
  </action>
  <verify>mkdocs build --strict passes clean with all 8 guide pages rendering correctly</verify>
  <done>All 8 guide pages exist in docs/guides/, mkdocs build --strict passes with zero errors, nav shows all guides</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] docs/guides/giftcards.md exists with methods, examples, models
- [ ] docs/guides/washbooks.md exists with methods, examples, models (nested models documented)
- [ ] docs/guides/recurring.md exists with all 5 methods, examples, models
- [ ] docs/guides/transactions.md exists with all 5 methods, examples, models (including load_job)
- [ ] All 8 guide pages follow consistent structure
- [ ] `mkdocs build --strict` passes clean with zero errors/warnings
- [ ] Phase 13 complete — all resource guides written
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- 4 guide pages created completing the full set of 8
- mkdocs build --strict clean
- Phase 13 complete
</success_criteria>

<output>
After completion, create `.planning/phases/13-resource-guides/13-02-SUMMARY.md`
</output>
