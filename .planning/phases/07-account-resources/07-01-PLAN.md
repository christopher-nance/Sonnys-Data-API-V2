---
phase: 07-account-resources
plan: 01
type: execute
---

<objective>
Implement Giftcards and Washbooks resource classes and wire them into SonnysClient.

Purpose: Provide `client.giftcards.list()`, `client.washbooks.list()`, and `client.washbooks.get(id)` as the first account-type resources on the client.
Output: Two resource modules, SonnysClient properties, updated exports.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-standard-resources/06-01-SUMMARY.md
@.planning/phases/06-standard-resources/06-02-SUMMARY.md

# Key source files:
@src/sonnys_data_client/_resources.py
@src/sonnys_data_client/_client.py
@src/sonnys_data_client/__init__.py
@src/sonnys_data_client/resources/__init__.py
@src/sonnys_data_client/types/_giftcards.py
@src/sonnys_data_client/types/_washbooks.py

**Tech stack available:** hatchling, requests, pydantic, pytest, ruff
**Established patterns:** mixin-based resource classes, cached_property for client resource access, underscore-prefixed internals, src-layout
**Constraining decisions:**
- Phase 05: ListableResource/GettableResource as independent mixins — concrete resources inherit one or both
- Phase 05: _paginated=True/False for pagination control
- Phase 06-01: cached_property pattern for wiring resources into SonnysClient
- Phase 06-01: Module-level resource imports in _client.py (no circular dependency)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Giftcards and Washbooks resource classes</name>
  <files>src/sonnys_data_client/resources/_giftcards.py, src/sonnys_data_client/resources/_washbooks.py</files>
  <action>
Create two resource modules following the mixin pattern from _resources.py:

**resources/_giftcards.py — Giftcards class:**
- Inherit from ListableResource only (list, no detail endpoint exists in API)
- `_path = "/giftcard-liablilty"` — NOTE: this is the actual API path, the typo ("liablilty" not "liability") is in the Sonny's API itself
- `_items_key = "giftcards"`
- `_model = GiftcardListItem` (from types._giftcards)
- `_default_limit = 100`
- `_paginated = True`
- Import GiftcardListItem from sonnys_data_client.types._giftcards
- Keep class minimal — just class attributes, no method overrides

**resources/_washbooks.py — Washbooks class:**
- Inherit from ListableResource AND GettableResource (both list + detail)
- `_path = "/washbook/account/list"`
- `_items_key = "accounts"` — NOTE: API uses "accounts" not "washbooks"
- `_model = WashbookListItem` (from types._washbooks)
- `_default_limit = 100`
- `_paginated = True`
- `_detail_path = "/washbook/account/{id}/detail"`
- `_detail_model = Washbook` (from types._washbooks)
- Import WashbookListItem and Washbook from sonnys_data_client.types._washbooks

Follow the exact module structure of existing resources (e.g., _customers.py): `from __future__ import annotations`, docstring, imports, class with docstring and class attributes only.
  </action>
  <verify>python -c "from sonnys_data_client.resources._giftcards import Giftcards; from sonnys_data_client.resources._washbooks import Washbooks; print('OK')"</verify>
  <done>Both resource classes importable, correct class attributes set, inherit from correct mixins</done>
</task>

<task type="auto">
  <name>Task 2: Wire Giftcards and Washbooks into SonnysClient</name>
  <files>src/sonnys_data_client/_client.py, src/sonnys_data_client/resources/__init__.py, src/sonnys_data_client/__init__.py</files>
  <action>
**resources/__init__.py:**
Add exports for Giftcards and Washbooks alongside existing Customers, Employees, Items, Sites. Add both to __all__.

**_client.py:**
- Import Giftcards and Washbooks at module level from sonnys_data_client.resources (same pattern as existing resource imports)
- Add `giftcards` and `washbooks` as `@functools.cached_property` on SonnysClient that return `Giftcards(self)` and `Washbooks(self)` respectively
- Follow the exact pattern of existing customers/items/employees/sites properties

**__init__.py:**
Add Giftcards and Washbooks to imports from sonnys_data_client.resources and to __all__.
  </action>
  <verify>python -c "from sonnys_data_client import SonnysClient, Giftcards, Washbooks; c = SonnysClient('x','y'); print(type(c.giftcards).__name__, type(c.washbooks).__name__)"</verify>
  <done>SonnysClient.giftcards returns Giftcards instance, SonnysClient.washbooks returns Washbooks instance, no circular import errors, both exported from package __init__.py</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `python -c "from sonnys_data_client import SonnysClient, Giftcards, Washbooks"` — no import errors
- [ ] `python -c "c = SonnysClient('x','y'); print(type(c.giftcards).__name__, type(c.washbooks).__name__)"` — prints "Giftcards Washbooks"
- [ ] `pytest tests/ -x -q` — all existing tests still pass
- [ ] `ruff check src/sonnys_data_client/` — no lint errors
</verification>

<success_criteria>

- Giftcards resource supports list() via inherited mixin
- Washbooks resource supports list() and get() via inherited mixins
- client.giftcards and client.washbooks properties work
- No circular imports
- All prior tests pass
- No lint errors
</success_criteria>

<output>
After completion, create `.planning/phases/07-account-resources/07-01-SUMMARY.md`
</output>
